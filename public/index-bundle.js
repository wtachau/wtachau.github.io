!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports={limeGreen:"#0DFD55",black:"#000000",pink:"#FF0099",yellow:"#F3F315",orange:"#FF6600",cyan:"#0FFFFF",red:"#FF0000",purple:"#6E0DD0",white:"#FFFFFF",teal:"#00FF9F",violet:"#B300FF",warmOrange:"#FFB800",blue:"#0141FF",fuscia:"#FF0069",lightBlue:"#0091FF"}},function(e,t){var n=window.innerHeight/75,o=1.5*n,r=window.innerHeight/8,i=r,l=(window.innerHeight-r-80-o/2)/13,c=18.5*l,u=(window.innerWidth-c)/2,d=2*l/3,s=l,a=c-80,f={x:window.innerWidth/2,y:window.innerHeight-r},w={x:window.innerWidth-u-i,y:window.innerHeight-r};e.exports={initialDegree:-45,numberSteps:6,numberColumns:18,numberRows:6,screenWidth:c,screenSidePadding:u,cannonWidth:o,cannonHeight:80,cannonLoadingRadius:d,cannonLoadingWidth:n,cannonCenter:f,queueCenter:w,blockSpeed:15,blockSize:l,blockOffset:s,flashingSpeed:5,numberOfFlashes:2,fallingAcceleration:1.2,initialUpwardsMomentum:5,horizontalSpeedMax:6,blockBuffer:-12,meterLevels:8,meterXPadding:40,meterYPadding:20,meterHeight:20,meterWidth:a,upAnimationSpeed:3,downAnimationSpeed:10}},function(e,t){var n=function(e){return document.getElementById(e)},o=function(e){e.style.display="none"},r=function(e){e.style.display="block"},i=function(e,t){n(e).innerHTML=t},l={centerX:Math.floor(window.innerWidth/2),centerY:Math.floor(window.innerHeight/2)};e.exports={hideElement:o,showElement:r,hideElementById:function(e){o(n(e))},showElementById:function(e){r(n(e))},updateYourScore:function(e){i("yourScore",e)},updateComputerScore:function(e){i("compScore",e)},screenCenter:l,fontName:"Press Start 2P"}},function(e,t){e.exports={blockSize:84,numBlocks:4,movingSpeed:14,newBlockDelay:5,sizeOfPop:5}},function(e,t){var n=(window.innerWidth-25)/2,o=25*Math.floor(n/25),r=o-150,i=o+150;e.exports={blockSize:25,widthInBlocks:13,trueCenter:n,centerScreen:o,leftLimit:r,rightLimit:i}},function(e,t){var n=window.innerWidth/10;e.exports={originalScore:3,numBricks:50,numRows:5,numColumns:10,padding:5,brickWidth:n,brickHeight:30,topPadding:50,flashTimes:2,pauseTime:1e3,normalSpeed:5}},function(e,t){e.exports={snakeWidth:10}},function(e,t){var n=function(e,t){return e.keyCode===t},o=function(e){return n(e,37)},r=function(e){return n(e,38)},i=function(e){return n(e,39)},l=function(e){return n(e,40)};e.exports={isSpace:function(e){return n(e,32)},isLeftArrow:o,isUpArrow:r,isRightArrow:i,isDownArrow:l,isArrowKey:function(e){return o(e)||r(e)||i(e)||l(e)},LEFT:37,RIGHT:39,UP:38,DOWN:40}},function(e,t){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Array.prototype.removeIfTrue=function(e){var t=this;this.forEach(function(n){e(n)&&t.splice(t.indexOf(n,1))})},Array.prototype.removeElements=function(e){var t=this;e.forEach(function(e){t.splice(t.indexOf(e),1)})};e.exports={arrayFrom1ToN:function(e){return Array.from(Array(e).keys())},randomElement:function(e){return e[Math.floor(Math.random()*e.length)]},mininumElement:function(e,t){var n=e[0];return e.forEach(function(e){t(e)<t(n)&&(n=e)}),n},nonNullValues:function(e){return e.filter(function(e){return e})},uniqueValues:function(e){return n(new Set(e))},groupedArray:function(e,t){var n={};return e.forEach(function(e){n[e[t]]=n[e[t]]||[],n[e[t]].push(e)}),n}}},function(e,t){e.exports={monitorKeysPressed:function(e){window.addEventListener("keydown",function(t){e[t.keyCode]=!0}),window.addEventListener("keyup",function(t){delete e[t.keyCode]})},monitorKeysPressedInOrder:function(e){window.addEventListener("keydown",function(t){e.push(t.keyCode)})},listenForKeys:function(e){window.addEventListener("keydown",e)}}},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";n.r(t);var o=n(8),r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},i=n(9),l=n(2),c=n(0);n(5);n(6);var u=n(7),d=function(e,t,n){Object(l.hideElementById)("name"),Object(l.hideElementById)("subtext"),Object(l.hideElementById)("yourScore");var o=0;!function(e){var t,r=document.getElementById("game_over_text");r.innerHTML=e;var i=function(){Object(l.showElement)(r),setTimeout(t,1e3)};t=function(){Object(l.hideElement)(r),3===o?(Object(l.showElementById)("name"),Object(l.showElementById)("subtext"),Object(l.showElementById)("yourScore"),n()):(o+=1,setTimeout(i,1e3))},i(),r.style.top=window.innerHeight/2-60+"px",r.style.left=(window.innerWidth-r.clientWidth)/2+"px"}((e?"you won!!! ":"game over :(")+"<br><br>  your score: "+t)},s=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};n(1);n(4);var a=n(3);function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=a.blockSize*a.numBlocks,this.height=a.blockSize*a.numBlocks}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"render",value:function(){var e=l.screenCenter.centerX,t=l.screenCenter.centerY;window.context.strokeStyle=c.white,window.context.lineWidth=5;window.context.strokeRect(e-this.width/2-2.5-1,t-this.height/2-2.5-1,this.width+5+2,this.height+5+2)}}]),e}();function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.col=t,this.row=n,this.type=o,this.desiredCol=t,this.desiredRow=n,this.desiredType=o,this.markedForDeletion=!1,this.isPopping=!1,this.popStage=0}return function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(e,[{key:"setDesiredColumn",value:function(e){this.desiredCol=e}},{key:"setDesiredRow",value:function(e){this.desiredRow=e}},{key:"markForDeletion",value:function(){this.markedForDeletion=!0}},{key:"upgrade",value:function(){return this.desiredType+=1,this.desiredType}},{key:"pop",value:function(){this.isPopping=!0}},{key:"setDesiredAttributes",value:function(){this.col=this.desiredCol,this.row=this.desiredRow,this.type!==this.desiredType&&this.pop(),this.type=this.desiredType}},{key:"render",value:function(e){var t=l.screenCenter.centerX,n=l.screenCenter.centerY,o=t-a.blockSize*a.numBlocks/2,r=n-a.blockSize*a.numBlocks/2,i=function(e){return o+e*a.blockSize+a.blockSize/2},c=function(e){return r+e*a.blockSize+a.blockSize/2},u=i(this.col),d=c(this.row),s=i(this.desiredCol),f=c(this.desiredRow),w=(a.blockSize-e)/a.blockSize,h=u+(s-u)*w,p=d+(f-d)*w,m=y(this.type),g=m.fillColor,b=m.textColor;window.context.fillStyle=g;var v=0;this.isPopping&&(this.popStage++,this.popStage>2*a.sizeOfPop&&(this.popStage=0,this.isPopping=!1),v=a.sizeOfPop-Math.abs(a.sizeOfPop-this.popStage));window.context.fillRect(h-a.blockSize/2+1-v,p-a.blockSize/2+1-v,a.blockSize-2+2*v,a.blockSize-2+2*v),window.context.fillStyle=b,context.textAlign="center",window.context.font='20px "'.concat(l.fontName,'"'),window.context.fillText(String(Math.pow(2,this.type+1)),h,p+10)}}]),e}(),y=function(e){switch(e){case 0:return window.retro?{fillColor:c.red,textColor:c.white}:{fillColor:"rgb(238,228,219)",textColor:c.black};case 1:return window.retro?{fillColor:c.orange,textColor:c.white}:{fillColor:"rgb(237, 224, 201)",textColor:c.black};case 2:return window.retro?{fillColor:c.warmOrange,textColor:c.white}:{fillColor:"rgb(241, 177, 125)",textColor:c.white};case 3:return window.retro?{fillColor:c.yellow,textColor:c.black}:{fillColor:"rgb(243,149,104)",textColor:c.white};case 4:return window.retro?{fillColor:c.limeGreen,textColor:c.black}:{fillColor:"rgb(244,124,99)",textColor:c.white};case 5:return window.retro?{fillColor:c.teal,textColor:c.black}:{fillColor:"rgb(244,95,66)",textColor:c.white};case 6:return window.retro?{fillColor:c.cyan,textColor:c.black}:{fillColor:"rgb(236,206,120)",textColor:c.white};case 7:return window.retro?{fillColor:c.blue,textColor:c.white}:{fillColor:"rgb(119,110,101)",textColor:c.white};case 8:return window.retro?{fillColor:c.pink,textColor:c.black}:{fillColor:"#edc850",textColor:c.white};case 9:return window.retro?{fillColor:c.violet,textColor:c.white}:{fillColor:"#edc53f",textColor:c.white};case 10:return window.retro?{fillColor:c.purple,textColor:c.white}:{fillColor:"#edc22e",textColor:c.white};case 11:return window.retro?{fillColor:c.fuscia,textColor:c.white}:{fillColor:"#4DF2BE",textColor:c.white};case 12:return window.retro?{fillColor:c.lightBlue,textColor:c.white}:{fillColor:"#4DF2BE",textColor:c.white}}},m=p,g=function(e){return[u.LEFT,u.UP].includes(e)?0:a.numBlocks-1},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.row===t.row?e.setDesiredColumn(t.desiredCol+n):e.setDesiredRow(t.desiredRow+n)},v=function(e){var t=[];return Object(o.arrayFrom1ToN)(a.numBlocks).forEach(function(n){Object(o.arrayFrom1ToN)(a.numBlocks).forEach(function(o){e.findIndex(function(e){return e.col===o&&e.row===n||e.desiredCol===o&&e.desiredRow===n})<0&&t.push({col:o,row:n})})}),t},k=function(e,t){var n;if([u.LEFT,u.RIGHT].includes(e))for(var r in n=function(e){return Object(o.groupedArray)(e,"row")}(t)){n[r].sort(function(t,n){return e===u.LEFT?t.col-n.col:n.col-t.col})}else for(var i in n=function(e){return Object(o.groupedArray)(e,"col")}(t)){n[i].sort(function(t,n){return e===u.UP?t.row-n.row:n.row-t.row})}return n},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=k(t,e),r=function(e){var r=o[e];r.forEach(function(e,o){if(0===o)!function(e,t){[u.LEFT,u.RIGHT].includes(t)?e.setDesiredColumn(g(t)):e.setDesiredRow(g(t))}(e,t);else{var i=r[o-1];if(i.type===i.desiredType&&!i.markedForDeletion&&i.type===e.type){b(e,i),e.markForDeletion();var l=i.upgrade();n(l)}else b(e,i,function(e){return[u.LEFT,u.UP].includes(e)?1:-1}(t))}})};for(var i in o)r(i)},x=function(e){e.forEach(function(e){return e.setDesiredAttributes()}),e.removeElements(e.filter(function(e){return e.markedForDeletion}))},S=function(e){var t=e.map(function(e){return function(e){var t=new m(e.col,e.row,e.type);return t.desiredCol=e.desiredCol,t.desiredRow=e.desiredRow,t.desiredType=e.desiredType,t.markedForDeletion=e.markedForDeletion,t.isPopping=e.isPopping,t.popStage=e.popStage,t}(e)});return C(t,u.LEFT),x(t),v(t).length>0||(C(t,u.RIGHT),x(t),v(t).length>0||(C(t,u.UP),x(t),v(t).length>0||(C(t,u.DOWN),x(t),v(t).length>0)))},F=document.getElementById("subtext"),E=document.getElementById("name"),B=function(e){var t=v(e);if(0!==t.length){var n=Object(o.randomElement)(t),r=n.col,i=n.row;return new m(r,i,s(0,1))}},O=!1,T=document.getElementById("pause"),D=document.getElementById("play"),I=function(){O?(O=!1,T.style.display="block",D.style.display="none"):(O=!0,T.style.display="none",D.style.display="block")};window.canvas=function(){var e=document.createElement("canvas");return e.width=window.innerWidth,e.height=window.innerHeight,e}(),window.context=window.canvas.getContext("2d"),document.getElementById("page1").appendChild(window.canvas),function(e,t){Object(l.hideElementById)("pause-container"),function(){window.retro=!0;var e=function(){t.innerHTML=window.retro?"classic colors >":"retro colors >"},t=document.createElement("div");t.id="color-option",t.style.color=c.limeGreen,t.style.position="absolute",t.style.top=(window.innerHeight-a.blockSize*a.numBlocks)/2-40+"px",t.style.left=(window.innerWidth-a.blockSize*a.numBlocks)/2+"px",t.style.width=a.blockSize*a.numBlocks+"px",t.style.textAlign="center",t.style.cursor="pointer",t.style.fontFamily='"'.concat(l.fontName,'"'),t.style.fontSize="12px",e(),t.onclick=function(){window.retro=!window.retro,e()},document.getElementById("page1").appendChild(t)}();var n,o=new w,r=[],s=0,f=0,h=function(){n=0,(r=[]).push(B(r)),r.push(B(r))};h();var p=function(){E.style.top=window.innerHeight/2+200+"px",F.style.top=window.innerHeight/2+240+"px",Object(l.updateYourScore)(n),o.render(),r.forEach(function(e){return e.render(s)})};Object(i.listenForKeys)(function(e){0===s&&0===f&&Object(u.isArrowKey)(e)&&(C(r,e.keyCode,function(e){n+=Math.pow(2,e+1)}),r.some(function(e){return e.desiredCol!==e.col||e.desiredRow!==e.row})&&(s=a.blockSize))}),e(function o(){!function(){if(s>0&&0==(s-=a.movingSpeed)&&(x(r),f=a.newBlockDelay),f>0&&0==(f-=1)){var e=B(r);e&&(e.pop(),r.push(e),f=0,0===v(r).length&&(S(r)||d(!1,n,h)))}}(),t(),p(),e(o)})}.apply(void 0,[r,function(){window.canvas.width=window.innerWidth,window.canvas.height=window.innerHeight;var e=document.getElementById("name"),t=document.getElementById("subtext"),n=document.getElementById("yourScore"),o=document.getElementById("compScore");e.style.top=window.innerHeight/2-60+"px",e.style.left=(window.innerWidth-e.clientWidth)/2+"px",t.style.top=window.innerHeight/2-20+"px",t.style.left=(window.innerWidth-t.clientWidth)/2+"px",n.style.top="20px",n.style.left=window.innerWidth-80+"px",o.style.top="20px",o.style.left="80px"},function(){return O},I]),document.body.addEventListener("keydown",function(e){40===e.keyCode?e.preventDefault():32===e.keyCode&&(e.preventDefault(),I())})}]);