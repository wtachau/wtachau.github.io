!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=9)}([function(e,n){var t=window.innerHeight/75,i=1.5*t,o=window.innerHeight/8,r=o,u=(window.innerHeight-o-80-i/2)/13,a=18.5*u,l=(window.innerWidth-a)/2,c=2*u/3,s=u,d=a-80,f={x:window.innerWidth/2,y:window.innerHeight-o},h={x:window.innerWidth-l-r,y:window.innerHeight-o};e.exports={initialDegree:-45,numberSteps:6,numberColumns:18,numberRows:6,screenWidth:a,screenSidePadding:l,cannonWidth:i,cannonHeight:80,cannonLoadingRadius:c,cannonLoadingWidth:t,cannonCenter:f,queueCenter:h,blockSpeed:15,blockSize:u,blockOffset:s,flashingSpeed:5,numberOfFlashes:2,fallingAcceleration:1.2,initialUpwardsMomentum:5,horizontalSpeedMax:6,blockBuffer:-12,meterLevels:8,meterXPadding:40,meterYPadding:20,meterHeight:20,meterWidth:d,upAnimationSpeed:3,downAnimationSpeed:10}},function(e,n){e.exports={limeGreen:"#0DFD55",black:"#000000",pink:"#FF0099",yellow:"#F3F315",orange:"#FF6600",cyan:"#0FFFFF",red:"#FF0000",purple:"#6E0DD0",white:"#FFFFFF"}},function(e,n){var t=(window.innerWidth-25)/2,i=25*Math.floor(t/25),o=i-150,r=i+150;e.exports={blockSize:25,widthInBlocks:13,trueCenter:t,centerScreen:i,leftLimit:o,rightLimit:r}},function(e,n){var t=function(e){return document.getElementById(e)},i=function(e){e.style.display="none"},o=function(e){e.style.display="block"},r=function(e,n){t(e).innerHTML=n};e.exports={hideElement:i,showElement:o,hideElementById:function(e){i(t(e))},showElementById:function(e){o(t(e))},updateYourScore:function(e){r("yourScore",e)},updateComputerScore:function(e){r("compScore",e)}}},function(e,n){var t=window.innerWidth/10;e.exports={originalScore:3,numBricks:50,numRows:5,numColumns:10,padding:5,brickWidth:t,brickHeight:30,topPadding:50,flashTimes:2,pauseTime:1e3,normalSpeed:5}},function(e,n){e.exports={snakeWidth:10}},function(e,n){function t(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Array.prototype.removeIfTrue=function(e){var n=this;this.forEach(function(t){e(t)&&n.splice(n.indexOf(t,1))})},Array.prototype.removeElements=function(e){var n=this;e.forEach(function(e){n.splice(n.indexOf(e),1)})},e.exports={arrayFrom1ToN:function(e){return Array.from(Array(e).keys())},randomElement:function(e){return e[Math.floor(Math.random()*e.length)]},mininumElement:function(e,n){var t=e[0];return e.forEach(function(e){n(e)<n(t)&&(t=e)}),t},nonNullValues:function(e){return e.filter(function(e){return e})},uniqueValues:function(e){return t(new Set(e))}}},function(e,n){e.exports={monitorKeysPressed:function(e){window.addEventListener("keydown",function(n){e[n.keyCode]=!0}),window.addEventListener("keyup",function(n){delete e[n.keyCode]})},monitorKeysPressedInOrder:function(e){window.addEventListener("keydown",function(n){e.push(n.keyCode)})}}},function(e,n){e.exports={isSpace:function(e){return 32===e.keyCode}}},function(e,n,t){e.exports=t(10)},function(e,n,t){"use strict";t.r(n);var i=t(6),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},r=(t(7),t(3)),u=t(1);t(4);t(5);var a=t(8),l=function(e,n){var t=e.x-n.x,i=e.y-n.y;return Math.sqrt(t*t+i*i)},c=function(e){return e*Math.PI/180},s=t(0);function d(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(n,t,i){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=n,this.y=t,this.degree=i}return function(e,n,t){n&&d(e.prototype,n),t&&d(e,t)}(e,[{key:"render",value:function(){var e=window.context;e.fillStyle=u.limeGreen,e.save(),e.translate(this.x,this.y),e.rotate(c(this.degree)),e.fillRect(-s.cannonWidth/2,-s.cannonWidth/2,s.cannonWidth,-s.cannonHeight),e.restore(),e.beginPath(),e.arc(this.x,this.y,s.cannonLoadingRadius,2*Math.PI,!1),e.strokeStyle=u.limeGreen,e.lineWidth=s.cannonLoadingWidth,e.stroke(),e.beginPath(),e.arc(this.x,this.y,s.cannonLoadingRadius-s.cannonLoadingWidth/2,2*Math.PI,!1),e.fillStyle=u.black,e.fill()}},{key:"update",value:function(e){this.degree=e}}]),e}(),h=function(e){var n=e||[u.pink,u.yellow,u.orange,u.cyan,u.red,u.purple,u.limeGreen];return Object(i.randomElement)(n)},m=function(e){return new x(s.queueCenter.x,s.queueCenter.y,h(e))},y=function(e,n,t){return{x:n*s.blockSize/2+s.blockSize/2+s.screenSidePadding,y:e*s.blockSize+s.blockSize/2+s.blockOffset*(t+1)}},p=function(e,n){var t=[];return n>1&&t.push({row:e,column:n-2}),n>0&&(t.push({row:e+1,column:n-1}),e>0&&t.push({row:e-1,column:n-1})),n<2*s.numberColumns-2&&t.push({row:e,column:n+2}),n<2*s.numberColumns-1&&(t.push({row:e+1,column:n+1}),e>0&&t.push({row:e-1,column:n+1})),t},w=function(e,n){return e.row===n.row&&e.column===n.column},v=function(e,n){return n.find(function(n){return w(e,n)})},g=function(e,n){var t=[n],i=n.row,o=n.column,r=n.color;return function e(n,t,i,o){i.forEach(function(i){var r=t.find(function(e){return e.row===i.row&&e.column===i.column});if((null===r||void 0===r?void 0:r.color)===o&&!v(r,n)){n.push(r);var u=r.row,a=r.column,l=p(u,a).filter(function(e){return!v(e,n)});e(n,t,l,o)}})}(t,e,p(i,o),r),t},b=function(e){e.forEach(function(e){return e.markAsFixed(!1)});var n=[];return e.filter(function(e){return 0===e.row}).forEach(function(t){t.markAsFixed(!0),n.push(t),function e(n,t,o){var r=o.row,u=o.column;Object(i.nonNullValues)(p(r,u).map(function(e){var i=v(e,t);return i&&!v(i,n)?i:null})).forEach(function(i){i.markAsFixed(!0),n.push(i),e(n,t,i)})}(n,e,t)}),e.filter(function(e){return!e.fixedToBase})};function k(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x=function(){function e(n,t,i,o,r){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=n,this.y=t,this.row=o,this.column=r,this.color=i,this.isMoving=!1,this.movementDegree=0,this.isFlashing=!1,this.flashingCount=0,this.isFalling=!1,this.fallingSpeed=0,this.sideSpeed=0,this.isSkull=!1,this.fixedToBase=u}return function(e,n,t){n&&k(e.prototype,n),t&&k(e,t)}(e,[{key:"render",value:function(){var e=this,n=s.blockSize/2,t=window.context;t.beginPath(),t.moveTo(this.x+n*Math.cos(0),this.y+n*Math.sin(0));if(Object(i.arrayFrom1ToN)(6).forEach(function(i){t.lineTo(e.x+n*Math.cos(2*i*Math.PI/6),e.y+n*Math.sin(2*i*Math.PI/6))}),this.isSkull)t.fillStyle=u.white,t.fill(),window.context.drawImage(document.getElementById("skull"),this.x-s.blockSize/3,this.y-s.blockSize/3,2*s.blockSize/3,2*s.blockSize/3);else{if(this.isFlashing){var o=this.flashingCount>0&&parseInt(this.flashingCount/s.flashingSpeed)%2!=0;t.fillStyle=o?u.white:u.black}else t.fillStyle=this.color;t.fill()}}},{key:"setAsSkull",value:function(){this.isSkull=!0}},{key:"update",value:function(){if(this.isMoving){var e=c(this.movementDegree-90);this.x=s.blockSpeed*Math.cos(e)+this.x,this.y=s.blockSpeed*Math.sin(e)+this.y;var n=s.screenSidePadding+s.blockSize/2,t=window.innerWidth-s.screenSidePadding-s.blockSize/2;(this.x<n||this.x>t)&&(this.movementDegree=-this.movementDegree,this.x<n?this.x=n:this.x=t)}this.isFlashing&&(this.flashingCount-=1),this.isFalling&&(this.x+=this.sideSpeed,this.y+=this.fallingSpeed,this.fallingSpeed+=s.fallingAcceleration)}},{key:"enterIntoSlot",value:function(e,n){var t=e.row,i=e.column,o=y(t,i,n),r=o.x,u=o.y;this.x=r,this.y=u,this.row=t,this.column=i,this.stopMoving(),this.markAsFixed(!0)}},{key:"moveToPending",value:function(){this.startMoving(-90)}},{key:"startMoving",value:function(e){this.isMoving=!0,this.movementDegree=e}},{key:"stopMoving",value:function(){this.isMoving=!1}},{key:"startFlashing",value:function(){this.isFlashing=!0,this.markAsFixed(!1),this.flashingCount=2*s.numberOfFlashes*s.flashingSpeed}},{key:"startFalling",value:function(){this.isFalling=!0,this.markAsFixed(!1),this.fallingSpeed=-s.initialUpwardsMomentum,this.sideSpeed=function(e,n){return Math.random()*(n-e)+e}(-s.horizontalSpeedMax,s.horizontalSpeedMax)}},{key:"markAsFixed",value:function(e){this.fixedToBase=e}},{key:"isOffEdge",value:function(e){return this.y<s.blockSize/2+(e+1)*s.blockSize}},{key:"stepDown",value:function(){this.y+=s.blockSize}}]),e}();function S(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var E=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=window.innerWidth/2,this.y=window.innerHeight/2,document.addEventListener("mousemove",function(e){n.x=e.pageX,n.y=e.pageY})}return function(e,n,t){n&&S(e.prototype,n),t&&S(e,t)}(e,[{key:"getMouseX",value:function(){return this.x}},{key:"getMouseY",value:function(){return this.y}}]),e}();function F(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.level=0,this.displayWidth=0}return function(e,n,t){n&&F(e.prototype,n),t&&F(e,t)}(e,[{key:"incrementLevel",value:function(){this.level+=1}},{key:"decrementLevel",value:function(e){e<this.level?this.level-=e:this.level=0}},{key:"shouldMoveBoardDown",value:function(){return this.level>s.meterLevels}},{key:"reset",value:function(){this.level=0}},{key:"desiredDisplayWidth",value:function(){return this.level*(s.meterWidth/s.meterLevels)}},{key:"update",value:function(){var e=this.displayWidth<this.desiredDisplayWidth()-s.upAnimationSpeed,n=this.displayWidth>this.desiredDisplayWidth()+s.downAnimationSpeed;e?this.displayWidth+=s.upAnimationSpeed:n?this.displayWidth-=s.downAnimationSpeed:this.displayWidth=this.desiredDisplayWidth()}},{key:"render",value:function(){var e=s.meterXPadding+s.screenSidePadding,n=window.innerHeight-s.meterYPadding-s.meterHeight;window.context.fillStyle=u.red,window.context.fillRect(e,n,s.meterWidth,s.meterHeight),window.context.fillStyle=u.yellow,window.context.fillRect(e,n,this.displayWidth,s.meterHeight)}}]),e}(),O=function(e,n){var t=function(e){return 180*e/Math.PI}(Math.atan2(n.getMouseY()-e.y,n.getMouseX()-e.x))+90;return t>180?-89:t>89?89:t},W=function(e,n,t){Object(r.hideElementById)("name"),Object(r.hideElementById)("subtext"),Object(r.hideElementById)("yourScore");var i=0;!function(e){var n,o=document.getElementById("game_over_text");o.innerHTML=e;var u=function(){Object(r.showElement)(o),setTimeout(n,1e3)};n=function(){Object(r.hideElement)(o),3===i?(Object(r.showElementById)("name"),Object(r.showElementById)("subtext"),Object(r.showElementById)("yourScore"),t()):(i+=1,setTimeout(u,1e3))},u(),o.style.top=window.innerHeight/2-60+"px",o.style.left=(window.innerWidth-o.clientWidth)/2+"px"}(e?"you won!!! <br><br>  your score: "+n:"whoops! you lost :(")};t(2);var C=!1,j=document.getElementById("pause"),I=document.getElementById("play"),P=function(){C?(C=!1,j.style.display="block",I.style.display="none"):(C=!0,j.style.display="none",I.style.display="block")};window.canvas=function(){var e=document.createElement("canvas");return e.width=window.innerWidth,e.height=window.innerHeight,e}(),window.context=window.canvas.getContext("2d"),document.getElementById("page1").appendChild(window.canvas);var A=Object(i.randomElement)([function(e,n){Object(r.hideElementById)("pause-container"),window.canvas.style.cursor="none";var t,o,u,c,d,w,k,S,F,C,j,I=new E,P=new f(s.cannonCenter.x,s.cannonCenter.y,s.initialDegree),A=new M,B=function(){A.reset(),t=Object(i.arrayFrom1ToN)(s.numberRows).flatMap(function(e){return Object(i.arrayFrom1ToN)(s.numberColumns).map(function(n){var t=e%2==0?2*n:2*n+1,i=y(e,t,0),o=i.x,r=i.y;return new x(o,r,h(),e,t,!0)})}),o=s.initialDegree,u=0,c=!1,d=null,w=new x(s.cannonCenter.x,s.cannonCenter.y,h()),k=null,S=m(),F=[],C=[],j=0};B();var T=function(){if(Object(r.updateYourScore)(u),o=O(P,I),P.update(o),A.update(),F.concat(C).forEach(function(e){return e.update()}),F.removeIfTrue(function(e){return e.flashingCount<0}),d){d.update(t);var e=function(e,n){return e.find(function(e){return l(e,n)<=s.blockSize+s.blockBuffer})}(t,d);if(e||d.isOffEdge(j)){var n=function(e,n,t,o){var r;if(n){var u=n.row,a=n.column;r=p(u,a)}else r=Object(i.arrayFrom1ToN)(s.numberColumns).map(function(e){return{row:0,column:2*e}});var c=r.filter(function(n){return!v(n,e)});return Object(i.mininumElement)(c,function(e){return l(y(e.row,e.column,o),t)})}(t,e,d,j);d.enterIntoSlot(n,j),t.push(d);var a=g(t,d),f=0;a.length>2&&((F=a).forEach(function(e){return e.startFlashing()}),t.removeElements(F),(C=b(t)).forEach(function(e){return e.startFalling()}),t.removeElements(C),C.length>0&&(f=C.length),u+=function(e,n){return e*e+1+n*n*10}(a.length,C.length)),f>0?A.decrementLevel(f):A.incrementLevel(),d=null}}var h=t.filter(function(e){return e.row+j>=s.numberRows+s.numberSteps});!c&&h.length>0&&(c=!0,h.forEach(function(e){return e.setAsSkull()}),W(!1,u,B)),A.shouldMoveBoardDown()&&(A.reset(),j+=1,t.concat(F).forEach(function(e){return e.stepDown()})),c||0!==t.length||(c=!0,W(!0,u,B)),[w,S].forEach(function(e){return null===e||void 0===e?void 0:e.update()}),k&&(k.update(),k.x<=s.cannonCenter.x&&(k.x=s.cannonCenter.x,k.stopMoving(),w=k,k=null))},D=function(){if(!d){(d=w).startMoving(o),(k=S).moveToPending(),w=null;var e=function(e){return Object(i.uniqueValues)(e.map(function(e){return e.color}))}(t);S=m(e)}};document.body.addEventListener("keydown",function(e){Object(a.isSpace)(e)&&(e.preventDefault(),D())}),document.body.addEventListener("click",function(e){e.preventDefault(),D()}),e(function i(){T(),n(),P.render(),A.render(),t.concat(F).concat(C).concat(d,w,S,k).forEach(function(e){return null===e||void 0===e?void 0:e.render()}),e(i)})}]),B=[o,function(){window.canvas.width=window.innerWidth,window.canvas.height=window.innerHeight;var e=document.getElementById("name"),n=document.getElementById("subtext"),t=document.getElementById("yourScore"),i=document.getElementById("compScore");e.style.top=window.innerHeight/2-60+"px",e.style.left=(window.innerWidth-e.clientWidth)/2+"px",n.style.top=window.innerHeight/2-20+"px",n.style.left=(window.innerWidth-n.clientWidth)/2+"px",t.style.top="20px",t.style.left=window.innerWidth-80+"px",i.style.top="20px",i.style.left="80px"},function(){return C},P];A.apply(void 0,B),document.body.addEventListener("keydown",function(e){40===e.keyCode?e.preventDefault():32===e.keyCode&&(e.preventDefault(),P())})}]);