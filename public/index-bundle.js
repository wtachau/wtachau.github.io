!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports={limeGreen:"#0DFD55",black:"#000000",pink:"#FF0099",yellow:"#F3F315",orange:"#FF6600",cyan:"#0FFFFF",red:"#FF0000",purple:"#6E0DD0",white:"#FFFFFF",teal:"#00FF9F",violet:"#B300FF",warmOrange:"#FFB800",blue:"#0141FF",fuscia:"#FF0069",lightBlue:"#0091FF"}},function(e,t){var n=window.innerHeight/75,i=1.5*n,r=window.innerHeight/8,o=r,a=(window.innerHeight-r-80-i/2)/13,l=18.5*a,c=(window.innerWidth-l)/2,s=2*a/3,u=a,d=l-80,h={x:window.innerWidth/2,y:window.innerHeight-r},f={x:window.innerWidth-c-o,y:window.innerHeight-r};e.exports={initialDegree:-45,numberSteps:6,numberColumns:18,numberRows:6,screenWidth:l,screenSidePadding:c,cannonWidth:i,cannonHeight:80,cannonLoadingRadius:s,cannonLoadingWidth:n,cannonCenter:h,queueCenter:f,blockSpeed:30,blockSize:a,blockOffset:u,flashingSpeed:2,numberOfFlashes:2,fallingAcceleration:1.2,initialUpwardsMomentum:5,horizontalSpeedMax:12,blockBuffer:-12,meterLevels:8,meterXPadding:40,meterYPadding:20,meterHeight:20,meterWidth:d,upAnimationSpeed:6,downAnimationSpeed:20}},function(e,t){var n=function(e){return document.getElementById(e)},i=function(e){e.style.display="none"},r=function(e){e.style.display="block"},o=function(e,t){n(e).innerHTML=t},a={centerX:Math.floor(window.innerWidth/2),centerY:Math.floor(window.innerHeight/2)};e.exports={hideElement:i,showElement:r,hideElementById:function(e){i(n(e))},showElementById:function(e){r(n(e))},updateYourScore:function(e){o("yourScore",e)},updateComputerScore:function(e){o("compScore",e)},screenCenter:a,fontName:"Press Start 2P"}},function(e,t){e.exports={blockSize:84,numBlocks:4,movingSpeed:14,newBlockDelay:5,sizeOfPop:5}},function(e,t){var n=window.innerWidth/10;e.exports={originalScore:3,numBricks:50,numRows:5,numColumns:10,padding:5,brickWidth:n,brickHeight:30,topPadding:50,flashTimes:2,pauseTime:1e3,normalSpeed:10,paddleSpeed:10,paddleWidth:100,paddleHeight:10}},function(e,t){var n=(window.innerWidth-25)/2,i=25*Math.floor(n/25),r=i-150,o=i+150;e.exports={blockSize:25,widthInBlocks:13,trueCenter:n,centerScreen:i,leftLimit:r,rightLimit:o}},function(e,t){e.exports={snakeWidth:10}},function(e,t){var n=function(e,t){return e.keyCode===t},i=function(e){return n(e,37)},r=function(e){return n(e,38)},o=function(e){return n(e,39)},a=function(e){return n(e,40)};e.exports={isSpace:function(e){return n(e,32)},isLeftArrow:i,isUpArrow:r,isRightArrow:o,isDownArrow:a,isArrowKey:function(e){return i(e)||r(e)||o(e)||a(e)},LEFT:37,RIGHT:39,UP:38,DOWN:40}},function(e,t){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Array.prototype.removeIfTrue=function(e){var t=this;this.forEach((function(n){e(n)&&t.splice(t.indexOf(n,1))}))},Array.prototype.removeElements=function(e){var t=this;e.forEach((function(e){t.splice(t.indexOf(e),1)}))};e.exports={arrayFrom1ToN:function(e){return Array.from(Array(e).keys())},randomElement:function(e){return e[Math.floor(Math.random()*e.length)]},mininumElement:function(e,t){var n=e[0];return e.forEach((function(e){t(e)<t(n)&&(n=e)})),n},nonNullValues:function(e){return e.filter((function(e){return e}))},uniqueValues:function(e){return n(new Set(e))},groupedArray:function(e,t){var n={};return e.forEach((function(e){n[e[t]]=n[e[t]]||[],n[e[t]].push(e)})),n}}},function(e,t){e.exports={monitorKeysPressed:function(e){window.addEventListener("keydown",(function(t){e[t.keyCode]=!0})),window.addEventListener("keyup",(function(t){delete e[t.keyCode]}))},monitorKeysPressedInOrder:function(e){window.addEventListener("keydown",(function(t){e.push(t.keyCode)}))},listenForKeys:function(e){window.addEventListener("keydown",e)}}},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";n.r(t);var i=n(8),r=document.querySelector("html").clientWidth,o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},a=n(9),l=n(2),c=n(0),s=n(4);function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.x_speed=s.normalSpeed,this.y_speed=s.normalSpeed}var t,n,i;return t=e,(n=[{key:"render",value:function(){window.context.beginPath(),window.context.arc(this.x,this.y,5,2*Math.PI,!1),window.context.fillStyle=c.limeGreen,window.context.fill()}},{key:"restart",value:function(){this.y_speed=-s.normalSpeed,this.x_speed=Math.floor(5*Math.random()-2),this.x=window.innerWidth/2,this.y=window.innerHeight-70}},{key:"update",value:function(e,t){this.x+=this.x_speed,this.y+=this.y_speed;var n=this.x-e.height,i=this.y-e.height,r=this.x+e.height,o=this.y+e.height;if(this.y-5<0?(this.y=5,this.y_speed=-this.y_speed):this.y+5>window.innerHeight&&t(),(this.x<0||this.x>window.innerWidth)&&(this.x_speed=-this.x_speed,this.x<0?this.x=5:this.x=window.innerWidth-5),i<e.y+e.width&&o>e.y&&n<e.x+e.width&&r>e.x){var a=(this.x-e.x-e.width/2)/8;this.y_speed=-s.normalSpeed,this.x_speed+=a,this.y+=this.y_speed}}}])&&u(t.prototype,n),i&&u(t,i),e}();function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=i,this.height=r,this.x_speed=0,this.y_speed=0}var t,n,i;return t=e,(n=[{key:"render",value:function(){window.context.fillStyle=c.limeGreen,window.context.fillRect(this.x,this.y,this.width,this.height)}},{key:"move",value:function(e,t){this.x+=e,this.y+=t,this.x_speed=e,this.y_speed=t,this.x<0?this.x=0:this.x+this.width>window.innerWidth&&(this.x=window.innerWidth-this.width)}}])&&h(t.prototype,n),i&&h(t,i),e}();function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paddle=new f(window.innerWidth/2,window.innerHeight-60,s.paddleWidth,s.paddleHeight)}var t,n,i;return t=e,(n=[{key:"render",value:function(){this.paddle.render()}},{key:"update",value:function(e){var t=this;Object.keys(e).forEach((function(e){var n=Number(e);37===n?t.paddle.move(-s.paddleSpeed,0):39===n?t.paddle.move(s.paddleSpeed,0):t.paddle.move(0,0)}))}}])&&y(t.prototype,n),i&&y(t,i),e}();function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=i,this.height=r,this.x_speed=0,this.y_speed=0}var t,n,i;return t=e,(n=[{key:"render",value:function(){window.context.fillStyle=c.limeGreen,window.context.fillRect(this.x,this.y,this.width,this.height)}},{key:"update",value:function(e,t){var n=this.x,i=this.y,r=this.x+s.brickWidth,o=this.y+s.brickHeight,a=e.x-5,l=e.y-5,c=e.x+5,u=e.y+5;l-s.normalSpeed<o&&c>n&&a<r&&u+s.normalSpeed>i&&(e.y=l+s.normalSpeed,e.y_speed=-e.y_speed,t())}}])&&p(t.prototype,n),i&&p(t,i),e}(),v=function(){for(var e=[],t=0;t<s.numBricks;t+=1)e.push(new m(t%s.numColumns*s.brickWidth+s.padding/2,Math.floor(t/s.numColumns)*s.brickHeight+s.topPadding,s.brickWidth-s.padding,s.brickHeight-s.padding));return e};function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.x_speed=10,this.y_speed=1}var t,n,i;return t=e,(n=[{key:"render",value:function(){window.context.beginPath(),window.context.arc(this.x,this.y,5,2*Math.PI,!1),window.context.fillStyle=c.limeGreen,window.context.fill()}},{key:"update",value:function(e,t,n,i){this.x+=this.x_speed,this.y+=this.y_speed;var r=this.x-5,o=this.y-5,a=this.x+5,l=this.y+5;this.y-5<0?(this.y=5,this.y_speed=-this.y_speed):this.y+5>window.innerHeight&&(this.y=window.innerHeight-5,this.y_speed=-this.y_speed),(this.x<0||this.x>window.innerWidth)&&(this.x<0?n():i(),this.x_speed=10,this.y_speed=Math.floor(5*Math.random()-2),this.x=window.innerWidth/4,this.y=window.innerHeight/2),r>window.innerWidth/2?r<e.x+e.width&&a>e.x&&o<e.y+e.height&&l>e.y&&(this.x_speed=-10,this.y_speed+=e.y_speed/2,this.x+=this.x_speed):r<t.x+t.width&&a>t.x&&o<t.y+t.height&&l>t.y&&(this.x_speed=10,this.y_speed+=t.y_speed/2,this.x+=this.x_speed)}}])&&b(t.prototype,n),i&&b(t,i),e}();function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=i,this.height=r,this.x_speed=0,this.y_speed=0}var t,n,i;return t=e,(n=[{key:"render",value:function(){window.context.fillStyle=c.limeGreen,window.context.fillRect(this.x,this.y,this.width,this.height)}},{key:"move",value:function(e,t){this.x+=e,this.y+=t,this.x_speed=e,this.y_speed=t,this.y<0?(this.y=0,this.y_speed=0):this.y+this.height>window.innerHeight&&(this.y=window.innerHeight-this.height,this.y_speed=0)}}])&&k(t.prototype,n),i&&k(t,i),e}();function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paddle=new x(10,175,10,50)}var t,n,i;return t=e,(n=[{key:"render",value:function(){this.paddle.render()}},{key:"update",value:function(e){var t=e.y,n=-(this.paddle.y+this.paddle.height/2-t);n<-4?n=-6:n>4&&(n=6),this.paddle.move(0,n),this.paddle.y<0?this.paddle.y=0:this.paddle.y+this.paddle.height>window.innerHeight&&(this.paddle.y=window.innerHeight-this.paddle.height)}}])&&S(t.prototype,n),i&&S(t,i),e}();function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paddle=new x(window.innerWidth-20,175,10,50)}var t,n,i;return t=e,(n=[{key:"render",value:function(){this.paddle.x=window.innerWidth-20,this.paddle.render()}},{key:"update",value:function(e){var t=this;Object.keys(e).forEach((function(e){var n=Number(e);38===n?t.paddle.move(0,-6):40===n?t.paddle.move(0,6):t.paddle.move(0,0)}))}}])&&E(t.prototype,n),i&&E(t,i),e}(),j=n(6);function W(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var F=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}var t,n,i;return t=e,(n=[{key:"render",value:function(){window.context.beginPath(),window.context.arc(this.x-j.snakeWidth/2,this.y-j.snakeWidth/2,j.snakeWidth/2,2*Math.PI,!1),window.context.fillStyle=c.limeGreen,window.context.fill()}}])&&W(t.prototype,n),i&&W(t,i),e}();function M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var T=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.size=j.snakeWidth,this.duration=i}var t,n,i;return t=e,(n=[{key:"render",value:function(){window.context.fillStyle=c.limeGreen,window.context.fillRect(this.x,this.y,this.size,this.size)}}])&&M(t.prototype,n),i&&M(t,i),e}(),z=function(e){return Math.round(e/j.snakeWidth)*j.snakeWidth},P=function(){for(var e=Math.floor(Math.random()*window.innerWidth+1),t=z(e);t<=10;)e=Math.floor(Math.random()*window.innerHeight+1),t=z(e);return t},I=function(){for(var e=Math.floor(Math.random()*window.innerHeight+1),t=z(e);t<=10;)e=Math.floor(Math.random()*window.innerHeight+1),t=z(e);return t},A=n(7),B=function(e,t,n){Object(l.hideElementById)("name"),Object(l.hideElementById)("subtext"),Object(l.hideElementById)("yourScore");var i=0;!function(e){var t,r=document.getElementById("game_over_text");r.innerHTML=e;var o=function(){Object(l.showElement)(r),setTimeout(t,1e3)};t=function(){Object(l.hideElement)(r),3===i?(Object(l.showElementById)("name"),Object(l.showElementById)("subtext"),Object(l.showElementById)("yourScore"),n()):(i+=1,setTimeout(o,1e3))},o(),r.style.top=window.innerHeight/2-60+"px",r.style.left=(window.innerWidth-r.clientWidth)/2+"px"}((e?"you won!!! ":"game over :(")+"<br><br>  your score: "+t)},H=function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},_=function(e){return e*Math.PI/180},D=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},L=n(1);function R(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Y=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.degree=i}var t,n,i;return t=e,(n=[{key:"render",value:function(){var e=window.context;e.fillStyle=c.limeGreen,e.save(),e.translate(this.x,this.y),e.rotate(_(this.degree)),e.fillRect(-L.cannonWidth/2,-L.cannonWidth/2,L.cannonWidth,-L.cannonHeight),e.restore(),e.beginPath(),e.arc(this.x,this.y,L.cannonLoadingRadius,2*Math.PI,!1),e.strokeStyle=c.limeGreen,e.lineWidth=L.cannonLoadingWidth,e.stroke(),e.beginPath(),e.arc(this.x,this.y,L.cannonLoadingRadius-L.cannonLoadingWidth/2,2*Math.PI,!1),e.fillStyle=c.black,e.fill()}},{key:"update",value:function(e){this.degree=e}}])&&R(t.prototype,n),i&&R(t,i),e}(),X=function(e){var t=e||[c.pink,c.yellow,c.orange,c.cyan,c.red,c.purple,c.limeGreen];return Object(i.randomElement)(t)},G=function(e){return new Z(L.queueCenter.x,L.queueCenter.y,X(e))},N=function(e,t,n){return{x:t*L.blockSize/2+L.blockSize/2+L.screenSidePadding,y:e*L.blockSize+L.blockSize/2+L.blockOffset*(n+1)}},U=function(e,t){var n=[];return t>1&&n.push({row:e,column:t-2}),t>0&&(n.push({row:e+1,column:t-1}),e>0&&n.push({row:e-1,column:t-1})),t<2*L.numberColumns-2&&n.push({row:e,column:t+2}),t<2*L.numberColumns-1&&(n.push({row:e+1,column:t+1}),e>0&&n.push({row:e-1,column:t+1})),n},q=function(e,t){return e.row===t.row&&e.column===t.column},K=function(e,t){return t.find((function(t){return q(e,t)}))},V=function(e,t){var n=[t],i=t.row,r=t.column,o=t.color;return function e(t,n,i,r){i.forEach((function(i){var o=n.find((function(e){return e.row===i.row&&e.column===i.column}));if((null==o?void 0:o.color)===r&&!K(o,t)){t.push(o);var a=o.row,l=o.column,c=U(a,l).filter((function(e){return!K(e,t)}));e(t,n,c,r)}}))}(n,e,U(i,r),o),n},$=function(e){e.forEach((function(e){return e.markAsFixed(!1)}));var t=e.filter((function(e){return 0===e.row})),n=[];return t.forEach((function(t){t.markAsFixed(!0),n.push(t),function e(t,n,r){var o=r.row,a=r.column;Object(i.nonNullValues)(U(o,a).map((function(e){var i=K(e,n);return i&&!K(i,t)?i:null}))).forEach((function(i){i.markAsFixed(!0),t.push(i),e(t,n,i)}))}(n,e,t)})),e.filter((function(e){return!e.fixedToBase}))};function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Z=function(){function e(t,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];J(this,e),this.x=t,this.y=n,this.row=r,this.column=o,this.color=i,this.isMoving=!1,this.movementDegree=0,this.isFlashing=!1,this.flashingCount=0,this.isFalling=!1,this.fallingSpeed=0,this.sideSpeed=0,this.isSkull=!1,this.fixedToBase=a}var t,n,r;return t=e,(n=[{key:"render",value:function(){var e=this,t=L.blockSize/2,n=window.context;if(n.beginPath(),n.moveTo(this.x+t*Math.cos(0),this.y+t*Math.sin(0)),Object(i.arrayFrom1ToN)(6).forEach((function(i){n.lineTo(e.x+t*Math.cos(2*i*Math.PI/6),e.y+t*Math.sin(2*i*Math.PI/6))})),this.isSkull)n.fillStyle=c.white,n.fill(),window.context.drawImage(document.getElementById("skull"),this.x-L.blockSize/3,this.y-L.blockSize/3,2*L.blockSize/3,2*L.blockSize/3);else{if(this.isFlashing){var r=this.flashingCount>0&&parseInt(this.flashingCount/L.flashingSpeed)%2!=0;n.fillStyle=r?c.white:c.black}else n.fillStyle=this.color;n.fill()}}},{key:"setAsSkull",value:function(){this.isSkull=!0}},{key:"update",value:function(){if(this.isMoving){var e=_(this.movementDegree-90);this.x=L.blockSpeed*Math.cos(e)+this.x,this.y=L.blockSpeed*Math.sin(e)+this.y;var t=L.screenSidePadding+L.blockSize/2,n=window.innerWidth-L.screenSidePadding-L.blockSize/2;(this.x<t||this.x>n)&&(this.movementDegree=-this.movementDegree,this.x<t?this.x=t:this.x=n)}this.isFlashing&&(this.flashingCount-=1),this.isFalling&&(this.x+=this.sideSpeed,this.y+=this.fallingSpeed,this.fallingSpeed+=L.fallingAcceleration)}},{key:"enterIntoSlot",value:function(e,t){var n=e.row,i=e.column,r=N(n,i,t),o=r.x,a=r.y;this.x=o,this.y=a,this.row=n,this.column=i,this.stopMoving(),this.markAsFixed(!0)}},{key:"moveToPending",value:function(){this.startMoving(-90)}},{key:"startMoving",value:function(e){this.isMoving=!0,this.movementDegree=e}},{key:"stopMoving",value:function(){this.isMoving=!1}},{key:"startFlashing",value:function(){this.isFlashing=!0,this.markAsFixed(!1),this.flashingCount=2*L.numberOfFlashes*L.flashingSpeed}},{key:"startFalling",value:function(){var e,t;this.isFalling=!0,this.markAsFixed(!1),this.fallingSpeed=-L.initialUpwardsMomentum,this.sideSpeed=(e=-L.horizontalSpeedMax,t=L.horizontalSpeedMax,Math.random()*(t-e)+e)}},{key:"markAsFixed",value:function(e){this.fixedToBase=e}},{key:"isOffEdge",value:function(e){return this.y<L.blockSize/2+(e+1)*L.blockSize}},{key:"stepDown",value:function(){this.y+=L.blockSize}}])&&Q(t.prototype,n),r&&Q(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var te=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=window.innerWidth/2,this.y=window.innerHeight/2,document.addEventListener("mousemove",(function(e){t.x=e.pageX,t.y=e.pageY}))}var t,n,i;return t=e,(n=[{key:"getMouseX",value:function(){return this.x}},{key:"getMouseY",value:function(){return this.y}}])&&ee(t.prototype,n),i&&ee(t,i),e}();function ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ie=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.level=0,this.displayWidth=0}var t,n,i;return t=e,(n=[{key:"incrementLevel",value:function(){this.level+=1}},{key:"decrementLevel",value:function(e){e<this.level?this.level-=e:this.level=0}},{key:"shouldMoveBoardDown",value:function(){return this.level>L.meterLevels}},{key:"reset",value:function(){this.level=0}},{key:"desiredDisplayWidth",value:function(){return this.level*(L.meterWidth/L.meterLevels)}},{key:"update",value:function(){var e=this.displayWidth<this.desiredDisplayWidth()-L.upAnimationSpeed,t=this.displayWidth>this.desiredDisplayWidth()+L.downAnimationSpeed;e?this.displayWidth+=L.upAnimationSpeed:t?this.displayWidth-=L.downAnimationSpeed:this.displayWidth=this.desiredDisplayWidth()}},{key:"render",value:function(){var e=L.meterXPadding+L.screenSidePadding,t=window.innerHeight-L.meterYPadding-L.meterHeight;window.context.fillStyle=c.red,window.context.fillRect(e,t,L.meterWidth,L.meterHeight),window.context.fillStyle=c.yellow,window.context.fillRect(e,t,this.displayWidth,L.meterHeight)}}])&&ne(t.prototype,n),i&&ne(t,i),e}(),re=function(e,t){var n=180*Math.atan2(t.getMouseY()-e.y,t.getMouseX()-e.x)/Math.PI+90;return n>180?-89:n>89?89:n},oe=n(5);function ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var le=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.type=i}var t,n,i;return t=e,(n=[{key:"render",value:function(){switch(this.type){case 0:window.context.fillStyle=c.pink;break;case 1:window.context.fillStyle=c.yellow;break;case 2:window.context.fillStyle=c.limeGreen;break;case 3:window.context.fillStyle=c.orange;break;case 4:window.context.fillStyle=c.cyan;break;case 5:window.context.fillStyle=c.red;break;case 6:window.context.fillStyle=c.purple}window.context.fillRect(this.x,this.y,oe.blockSize-1,oe.blockSize-1)}}])&&ae(t.prototype,n),i&&ae(t,i),e}();function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ue=function(e,t){return e*oe.blockSize+t.centerX<oe.leftLimit},de=function(e,t){return e*oe.blockSize+t.centerX>oe.rightLimit},he=function(e,t,n,i){return n<e+oe.blockSize&&n+oe.blockSize>e&&i<t+oe.blockSize&&i+oe.blockSize>t},fe=function(e,t){for(var n=0;n<e.coordinates.length;n+=1){var i=e.coordinates[n];if(i){var r=ce(i,2),o=r[0],a=r[1];o=o*oe.blockSize+e.centerX,a=a*oe.blockSize+e.centerY;for(var l=0;l<t.coordinates.length;l+=1){var c=ce(t.coordinates[l],2),s=c[0],u=c[1];if(s=s*oe.blockSize+t.centerX,u=u*oe.blockSize+t.centerY,he(o,a,s,u))return!0}}}return!1},ye=function(e,t){for(var n=0;n<t.coordinates.length;n+=1){var i=ce(t.coordinates[n],2),r=i[0];if(i[1]*oe.blockSize+t.centerY>window.innerHeight-75||ue(r,t)||de(r,t))return!0}for(var o=0;o<e.length-1;o+=1)if(fe(e[o],t))return!0;return!1};function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ve=function(){function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.centerX=oe.centerScreen,this.centerY=50,this.type=t,this.orientation=0,t){case 0:this.coordinates=[[-1,0],[0,0],[1,0],[1,1]];break;case 1:this.coordinates=[[-1,1],[-1,0],[0,0],[1,0]];break;case 2:this.coordinates=[[0,0],[0,1],[1,0],[1,1]];break;case 3:this.coordinates=[[-1,0],[0,0],[1,0],[2,0]];break;case 4:this.coordinates=[[-1,1],[0,1],[0,0],[1,0]];break;case 5:this.coordinates=[[-1,0],[0,0],[0,1],[1,1]];break;case 6:this.coordinates=[[-1,0],[0,0],[1,0],[0,1]]}}var t,n,i;return t=e,(n=[{key:"rotate",value:function(){var e=this;if(2!==this.type){var t=function(e){var t=[];return e.forEach((function(e){var n=we(e,2),i=n[0],r=n[1];t.push([-r,i])})),t};this.coordinates=t(this.coordinates),this.orientation=(this.orientation+1)%4,this.type>=3&&this.type<=5&&this.orientation>1&&(this.coordinates=t(t(this.coordinates)),this.orientation=0),this.coordinates.forEach((function(t){var n=t[0];ue(n,e)&&(e.centerX+=oe.blockSize),de(n,e)&&(e.centerX-=oe.blockSize)}))}}},{key:"render",value:function(){var e=this;this.coordinates.forEach((function(t){if(t){var n=we(t,2),i=n[0],r=n[1];new le(e.centerX+i*oe.blockSize,e.centerY+r*oe.blockSize,e.type).render()}}))}}])&&me(t.prototype,n),i&&me(t,i),e}();function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ke=n(3);function xe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=ke.blockSize*ke.numBlocks,this.height=ke.blockSize*ke.numBlocks}var t,n,i;return t=e,(n=[{key:"render",value:function(){var e=l.screenCenter.centerX,t=l.screenCenter.centerY;window.context.strokeStyle=c.white,window.context.lineWidth=5,window.context.strokeRect(e-this.width/2-2.5-1,t-this.height/2-2.5-1,this.width+5+2,this.height+5+2)}}])&&xe(t.prototype,n),i&&xe(t,i),e}();function Ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ee,Oe=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.col=t,this.row=n,this.type=i,this.desiredCol=t,this.desiredRow=n,this.desiredType=i,this.markedForDeletion=!1,this.isPopping=!1,this.popStage=0}var t,n,i;return t=e,(n=[{key:"setDesiredColumn",value:function(e){this.desiredCol=e}},{key:"setDesiredRow",value:function(e){this.desiredRow=e}},{key:"markForDeletion",value:function(){this.markedForDeletion=!0}},{key:"upgrade",value:function(){return this.desiredType+=1,this.desiredType}},{key:"pop",value:function(){this.isPopping=!0}},{key:"setDesiredAttributes",value:function(){this.col=this.desiredCol,this.row=this.desiredRow,this.type!==this.desiredType&&this.pop(),this.type=this.desiredType}},{key:"render",value:function(e){var t=l.screenCenter.centerX,n=l.screenCenter.centerY,i=t-ke.blockSize*ke.numBlocks/2,r=n-ke.blockSize*ke.numBlocks/2,o=function(e){return i+e*ke.blockSize+ke.blockSize/2},a=function(e){return r+e*ke.blockSize+ke.blockSize/2},c=o(this.col),s=a(this.row),u=o(this.desiredCol),d=a(this.desiredRow),h=(ke.blockSize-e)/ke.blockSize,f=c+(u-c)*h,y=s+(d-s)*h,w=je(this.type),p=w.fillColor,m=w.textColor;window.context.fillStyle=p;var v=0;this.isPopping&&(this.popStage++,this.popStage>2*ke.sizeOfPop&&(this.popStage=0,this.isPopping=!1),v=ke.sizeOfPop-Math.abs(ke.sizeOfPop-this.popStage)),window.context.fillRect(f-ke.blockSize/2+1-v,y-ke.blockSize/2+1-v,ke.blockSize-2+2*v,ke.blockSize-2+2*v),window.context.fillStyle=m,context.textAlign="center",window.context.font='20px "'.concat(l.fontName,'"'),window.context.fillText(String(Math.pow(2,this.type+1)),f,y+10)}}])&&Ce(t.prototype,n),i&&Ce(t,i),e}(),je=function(e){switch(e){case 0:return window.retro?{fillColor:c.red,textColor:c.white}:{fillColor:"rgb(238,228,219)",textColor:c.black};case 1:return window.retro?{fillColor:c.orange,textColor:c.white}:{fillColor:"rgb(237, 224, 201)",textColor:c.black};case 2:return window.retro?{fillColor:c.warmOrange,textColor:c.white}:{fillColor:"rgb(241, 177, 125)",textColor:c.white};case 3:return window.retro?{fillColor:c.yellow,textColor:c.black}:{fillColor:"rgb(243,149,104)",textColor:c.white};case 4:return window.retro?{fillColor:c.limeGreen,textColor:c.black}:{fillColor:"rgb(244,124,99)",textColor:c.white};case 5:return window.retro?{fillColor:c.teal,textColor:c.black}:{fillColor:"rgb(244,95,66)",textColor:c.white};case 6:return window.retro?{fillColor:c.cyan,textColor:c.black}:{fillColor:"rgb(236,206,120)",textColor:c.white};case 7:return window.retro?{fillColor:c.blue,textColor:c.white}:{fillColor:"rgb(119,110,101)",textColor:c.white};case 8:return window.retro?{fillColor:c.pink,textColor:c.black}:{fillColor:"#edc850",textColor:c.white};case 9:return window.retro?{fillColor:c.violet,textColor:c.white}:{fillColor:"#edc53f",textColor:c.white};case 10:return window.retro?{fillColor:c.purple,textColor:c.white}:{fillColor:"#edc22e",textColor:c.white};case 11:return window.retro?{fillColor:c.fuscia,textColor:c.white}:{fillColor:"#4DF2BE",textColor:c.white};case 12:return window.retro?{fillColor:c.lightBlue,textColor:c.white}:{fillColor:"#4DF2BE",textColor:c.white}}},We=Oe,Fe=function(e){return[A.LEFT,A.UP].includes(e)?0:ke.numBlocks-1},Me=function(e,t){[A.LEFT,A.RIGHT].includes(t)?e.setDesiredColumn(Fe(t)):e.setDesiredRow(Fe(t))},Te=function(e){return[A.LEFT,A.UP].includes(e)?1:-1},ze=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.row===t.row?e.setDesiredColumn(t.desiredCol+n):e.setDesiredRow(t.desiredRow+n)},Pe=function(e){var t=[];return Object(i.arrayFrom1ToN)(ke.numBlocks).forEach((function(n){Object(i.arrayFrom1ToN)(ke.numBlocks).forEach((function(i){e.findIndex((function(e){return e.col===i&&e.row===n||e.desiredCol===i&&e.desiredRow===n}))<0&&t.push({col:i,row:n})}))})),t},Ie=function(e,t){var n;if([A.LEFT,A.RIGHT].includes(e))for(var r in n=function(e){return Object(i.groupedArray)(e,"row")}(t)){n[r].sort((function(t,n){return e===A.LEFT?t.col-n.col:n.col-t.col}))}else for(var o in n=function(e){return Object(i.groupedArray)(e,"col")}(t)){n[o].sort((function(t,n){return e===A.UP?t.row-n.row:n.row-t.row}))}return n},Ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=Ie(t,e),r=function(e){var r=i[e];r.forEach((function(e,i){if(0===i)Me(e,t);else{var o=r[i-1];if(o.type===o.desiredType&&!o.markedForDeletion&&o.type===e.type){ze(e,o),e.markForDeletion();var a=o.upgrade();n(a)}else ze(e,o,Te(t))}}))};for(var o in i)r(o)},Be=function(e){e.forEach((function(e){return e.setDesiredAttributes()})),e.removeElements(e.filter((function(e){return e.markedForDeletion})))},He=function(e){var t=e.map((function(e){return(n=new We((t=e).col,t.row,t.type)).desiredCol=t.desiredCol,n.desiredRow=t.desiredRow,n.desiredType=t.desiredType,n.markedForDeletion=t.markedForDeletion,n.isPopping=t.isPopping,n.popStage=t.popStage,n;var t,n}));return Ae(t,A.LEFT),Be(t),Pe(t).length>0||(Ae(t,A.RIGHT),Be(t),Pe(t).length>0||(Ae(t,A.UP),Be(t),Pe(t).length>0||(Ae(t,A.DOWN),Be(t),Pe(t).length>0)))},_e=document.getElementById("subtext"),De=document.getElementById("name"),Le=function(e){var t=Pe(e);if(0!==t.length){var n=Object(i.randomElement)(t),r=n.col,o=n.row;return new We(r,o,D(0,1))}},Re=!1,Ye=document.getElementById("pause"),Xe=document.getElementById("play"),Ge=function(){Re?(Re=!1,Ye.style.display="block",Xe.style.display="none"):(Re=!0,Ye.style.display="none",Xe.style.display="block")};window.canvas=((Ee=document.createElement("canvas")).width=r,Ee.height=window.innerHeight,Ee),window.context=window.canvas.getContext("2d"),document.getElementById("page1").appendChild(window.canvas);var Ne=Object(i.randomElement)([function(e,t,n){var i,r=0,o=[],a=function(){var e=D(0,6);o.push(new ve(e)),i=o[o.length-1]};a();var c=function(){i.centerY+=oe.blockSize,ye(o,i)&&(i.centerY-=oe.blockSize,function(){var e={};o.forEach((function(t){t.coordinates.forEach((function(n,i){if(n){var r=be(n,2),o=r[0],a=r[1],l=t.centerX+o*oe.blockSize,c=t.centerY+a*oe.blockSize,s={x:l,coordinatesRef:t.coordinates,index:i};c in e?e[c].push(s):e[c]=[s]}}))}));var t=[];Object.keys(e).forEach((function(n){e[n].length>=oe.widthInBlocks&&(e[n].forEach((function(e){delete e.coordinatesRef[e.index]})),t.push(n))})),t.forEach((function(e){r+=10,o.forEach((function(t){t.coordinates.forEach((function(n,i){if(n){var r=be(n,2),o=r[0],a=r[1];t.centerY+a*oe.blockSize<e&&(t.coordinates[i]=[o,a+1])}}))}))}))}(),a(),ye(o,i)&&(o=[],r=0,a()))},s=function(e){i.centerX+=e?oe.blockSize:-oe.blockSize,ye(o,i)&&(i.centerX-=e?oe.blockSize:-oe.blockSize)},u=function(){Object(l.updateYourScore)(r),o.map((function(e){return e.render()}))};setInterval((function(){n()||c(),t(),u()}),400),window.addEventListener("keydown",(function(e){if(!n()){i=o[o.length-1];var r=Number(e.keyCode);40===r?c():39===r?s(!0):38===r?i.rotate():37===r&&s(!1),t(),u()}}))},function(e,t,n){var i=0,r=0,o=new O,c=new C,s=new g(window.innerWidth/4,window.innerHeight/2),u={};Object(a.monitorKeysPressed)(u);e((function a(){n()||function(){o.update(u),c.update(s);s.update(o.paddle,c.paddle,(function(){r+=1}),(function(){i+=1}))}(),t(),Object(l.updateYourScore)(r),Object(l.updateComputerScore)(i),o.render(),c.render(),s.render(),e(a)}))},function(e,t,n,i){var r=s.originalScore,o=new w,c=new d(window.innerWidth/4,window.innerHeight/2),u=v(),h=function(){r=s.originalScore,c.restart(),u=v(),i()},f=function(e){!function(e,t,n){Object(l.hideElementById)("name"),Object(l.hideElementById)("subtext"),Object(l.hideElementById)("yourScore");var i=0;!function(e){n();var r,o=document.getElementById("game_over_text");o.innerHTML=e;var a=function(){Object(l.showElement)(o),setTimeout(r,s.pauseTime)};r=function(){Object(l.hideElement)(o),i===s.flashTimes?(Object(l.showElementById)("name"),Object(l.showElementById)("subtext"),Object(l.showElementById)("yourScore"),t()):(i+=1,setTimeout(a,s.pauseTime))},a(),o.style.top=window.innerHeight/2-60+"px",o.style.left=(window.innerWidth-o.clientWidth)/2+"px"}(e?"you won!!!":"whoops! you lost :(")}(e,h,i)},y={};Object(a.monitorKeysPressed)(y);e((function i(){n()||(o.update(y),u.forEach((function(e){e.update(c,(function(){u.splice(u.indexOf(e),1),0===u.length&&f(!0)}))})),c.update(o.paddle,(function(){0==(r-=1)&&f(!1),c.restart()}))),t(),Object(l.updateYourScore)(r),o.render(),c.render(),u.forEach((function(e){e.render()})),e(i)}))},function(e,t,n){var i,r,o,c=new F(P(),I()),s=function(){o=1,(r=[])[0]=new T(P(),I(),5),i=0};s();var u=[];Object(a.monitorKeysPressedInOrder)(u);var d=function(){var e=r[0],t=new T(e.x,e.y,r.length);(function(e,t){switch(t){case 0:e.y+=j.snakeWidth;break;case 1:e.x+=j.snakeWidth;break;case 2:e.y-=j.snakeWidth;break;default:e.x-=j.snakeWidth}})(t,o=function(e,t){for(var n=t,i=e.length,r=0;r<i;r+=1){var o=Number(e[r]);40===o&&2!==n?n=0:39===o&&3!==n?n=1:38===o&&0!==n?n=2:37===o&&1!==n&&(n=3),delete e[r]}return n}(u,o)),r.unshift(t),function(e,t){var n=e[0];e.slice(1).forEach((function(e){n.x===e.x&&n.y===e.y&&t()}))}(r,s),function(e,t,n){e.length>0&&e[0].x===t.x-j.snakeWidth&&e[0].y===t.y-j.snakeWidth&&(n(),t.x=P(),t.y=I())}(r,c,(function(){i+=1,r.forEach((function(e){e.duration+=6}))})),r.forEach((function(e){e.duration-=1})),function(e){e.forEach((function(e){e.y-j.snakeWidth<0?e.y=z(window.innerHeight+(e.y-j.snakeWidth)):e.y+j.snakeWidth>window.innerHeight?e.y=z(j.snakeWidth):e.x-j.snakeWidth<0?e.x=z(window.innerWidth+(e.x-j.snakeWidth)):e.x+j.snakeWidth>window.innerWidth&&(e.x=z(j.snakeWidth))}))}(r),function(e){var t=e.length-1;e[t].duration<=0&&e.splice(t,1)}(r)};setInterval((function(){n()||d(),t(),Object(l.updateYourScore)(i),r.forEach((function(e){return e.render()})),c.render()}),60)},function(e,t){Object(l.hideElementById)("pause-container"),window.canvas.style.cursor="none";var n,r,o,a,c,s,u,d,h,f,y,w=new te,p=new Y(L.cannonCenter.x,L.cannonCenter.y,L.initialDegree),m=new ie,v=function(){m.reset(),n=Object(i.arrayFrom1ToN)(L.numberRows).flatMap((function(e){return Object(i.arrayFrom1ToN)(L.numberColumns).map((function(t){var n=e%2==0?2*t:2*t+1,i=N(e,n,0),r=i.x,o=i.y;return new Z(r,o,X(),e,n,!0)}))})),r=L.initialDegree,o=0,a=!1,c=null,s=new Z(L.cannonCenter.x,L.cannonCenter.y,X()),u=null,d=G(),h=[],f=[],y=0};v();var b=function(){if(Object(l.updateYourScore)(o),r=re(p,w),p.update(r),m.update(),h.concat(f).forEach((function(e){return e.update()})),h.removeIfTrue((function(e){return e.flashingCount<0})),c){c.update(n);var e=function(e,t){return e.find((function(e){return H(e,t)<=L.blockSize+L.blockBuffer}))}(n,c);if(e||c.isOffEdge(y)){var t=function(e,t,n,r){var o;if(t){var a=t.row,l=t.column;o=U(a,l)}else o=Object(i.arrayFrom1ToN)(L.numberColumns).map((function(e){return{row:0,column:2*e}}));var c=o.filter((function(t){return!K(t,e)}));return Object(i.mininumElement)(c,(function(e){return H(N(e.row,e.column,r),n)}))}(n,e,c,y);c.enterIntoSlot(t,y),n.push(c);var b=V(n,c),g=0;b.length>2&&((h=b).forEach((function(e){return e.startFlashing()})),n.removeElements(h),(f=$(n)).forEach((function(e){return e.startFalling()})),n.removeElements(f),f.length>0&&(g=f.length),o+=(k=b.length,x=f.length,k*k+1+x*x*10)),g>0?m.decrementLevel(g):m.incrementLevel(),c=null}}var k,x,S=n.filter((function(e){return e.row+y>=L.numberRows+L.numberSteps}));!a&&S.length>0&&(a=!0,S.forEach((function(e){return e.setAsSkull()})),B(!1,o,v)),m.shouldMoveBoardDown()&&(m.reset(),y+=1,n.concat(h).forEach((function(e){return e.stepDown()}))),a||0!==n.length||(a=!0,B(!0,o,v)),[s,d].forEach((function(e){return null==e?void 0:e.update()})),u&&(u.update(),u.x<=L.cannonCenter.x&&(u.x=L.cannonCenter.x,u.stopMoving(),s=u,u=null))},g=function(){if(!c){(c=s).startMoving(r),(u=d).moveToPending(),s=null;var e=function(e){return Object(i.uniqueValues)(e.map((function(e){return e.color})))}(n);d=G(e)}};document.body.addEventListener("keydown",(function(e){Object(A.isSpace)(e)&&(e.preventDefault(),g())})),document.body.addEventListener("click",(function(e){e.preventDefault(),g()})),e((function i(){b(),t(),p.render(),m.render(),n.concat(h).concat(f).concat(c,s,d,u).forEach((function(e){return null==e?void 0:e.render()})),e(i)}))},function(e,t){Object(l.hideElementById)("pause-container"),function(){window.retro=!0;var e=function(){t.innerHTML=window.retro?"classic colors >":"retro colors >"},t=document.createElement("div");t.id="color-option",t.style.color=c.limeGreen,t.style.position="absolute",t.style.top=(window.innerHeight-ke.blockSize*ke.numBlocks)/2-40+"px",t.style.left=(window.innerWidth-ke.blockSize*ke.numBlocks)/2+"px",t.style.width=ke.blockSize*ke.numBlocks+"px",t.style.textAlign="center",t.style.cursor="pointer",t.style.fontFamily='"'.concat(l.fontName,'"'),t.style.fontSize="12px",e(),t.onclick=function(){window.retro=!window.retro,e()},document.getElementById("page1").appendChild(t)}();var n,i=new Se,r=[],o=0,s=0,u=function(){n=0,(r=[]).push(Le(r)),r.push(Le(r))};u();var d=function(){De.style.top=window.innerHeight/2+200+"px",_e.style.top=window.innerHeight/2+240+"px",Object(l.updateYourScore)(n),i.render(),r.forEach((function(e){return e.render(o)}))};Object(a.listenForKeys)((function(e){0===o&&0===s&&(Object(A.isArrowKey)(e)&&(Ae(r,e.keyCode,(function(e){n+=Math.pow(2,e+1)})),r.some((function(e){return e.desiredCol!==e.col||e.desiredRow!==e.row}))&&(o=ke.blockSize)))})),e((function i(){!function(){if(o>0&&0===(o-=ke.movingSpeed)&&(Be(r),s=ke.newBlockDelay),s>0&&0===(s-=1)){var e=Le(r);e&&(e.pop(),r.push(e),s=0,0===Pe(r).length&&(He(r)||B(!1,n,u)))}}(),t(),d(),e(i)}))}]),Ue=[function(e){return setTimeout((function(){o(e)}),1e3/120)},function(){window.canvas.width=r,window.canvas.height=window.innerHeight;var e=document.getElementById("name"),t=document.getElementById("subtext"),n=document.getElementById("yourScore"),i=document.getElementById("compScore");e.style.top=window.innerHeight/2-60+"px",e.style.left=(r-e.clientWidth)/2+"px",t.style.top=window.innerHeight/2-20+"px",t.style.left=(r-t.clientWidth)/2+"px",n.style.top="20px",n.style.left=r-80+"px",i.style.top="20px",i.style.left="80px"},function(){return Re},Ge];Ne.apply(void 0,Ue),document.body.addEventListener("keydown",(function(e){40===e.keyCode?e.preventDefault():32===e.keyCode&&(e.preventDefault(),Ge())}))}]);